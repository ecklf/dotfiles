local crates_status_ok, crates = pcall(require, "crates")
if not crates_status_ok then
	return
end

crates.setup({
	src = {
		cmp = {
			enabled = true,
		},
	},
	smart_insert = true,
	insert_closing_quote = true,
	avoid_prerelease = true,
	autoload = true,
	autoupdate = true,
	loading_indicator = true,
	date_format = "%Y-%m-%d",
	disable_invalid_feature_diagnostic = false,
	text = {
		loading = "   Loading",
		version = "   %s",
		prerelease = "   %s",
		yanked = "   %s",
		nomatch = "   No match",
		upgrade = "   %s",
		error = "   Error fetching crate",
	},
	highlight = {
		loading = "CratesNvimLoading",
		version = "CratesNvimVersion",
		prerelease = "CratesNvimPreRelease",
		yanked = "CratesNvimYanked",
		nomatch = "CratesNvimNoMatch",
		upgrade = "CratesNvimUpgrade",
		error = "CratesNvimError",
	},
})
